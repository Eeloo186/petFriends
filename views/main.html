<!DOCTYPE html>
<html lang="en">
  <head>
    {% include 'head.html' %}
    <link rel="stylesheet" href="/styles/main.css" />
    <script src="/javascript/main.js" defer></script>
  </head>
  <body>
    {% include 'top.html' %} {% if user %}
    <div class="community-event-box">
      <p>여러 사람들과 <span> '소통' </span> 해보세요!</p>
      <a href="/page/community?currentPage=1">커뮤티니</a>
    </div>
    {% else %}
    <div class="join-event-box">
      <p>
        <span>나</span> 만의 <span class="uni">특별한</span> 동물들을
        소개해주세요!
      </p>
      <a href="/page/login">login</a>
    </div>
    {% endif %}
    <div class="main-box">
      <div
        id="map"
        style="
          width: 500px;
          height: 400px;
          border-radius: 20px;
          margin-left: 30px;
        "
      ></div>
      <div
        class="popular-posts"
        style="
          width: 800px;
          height: 400px;
          border-radius: 20px;
          margin-left: 30px;
          background-color: aqua;
        "
      >
        <ul></ul>
      </div>
    </div>
  </body>
  <script
    type="text/javascript"
    src="//dapi.kakao.com/v2/maps/sdk.js?appkey=ec69be90b3acf84ca69f8f6636ad3463&libraries=services"
  ></script>
  <script>
    var mapContainer = document.getElementById("map"), // 지도를 표시할 div
      mapOption = {
        center: new kakao.maps.LatLng(33.45068, 126.57049), // 지도의 중심좌표
        level: 3, // 지도의 확대 레벨
      };

    // 지도를 생성합니다
    var map = new kakao.maps.Map(mapContainer, mapOption);

    // 주소-좌표 변환 객체를 생성합니다
    var geocoder = new kakao.maps.services.Geocoder();

    // 주소로 좌표를 검색합니다
    geocoder.addressSearch(
      "부산광역시 해운대구 우동 747-7",
      function (result, status) {
        // 정상적으로 검색이 완료됐으면
        if (status === kakao.maps.services.Status.OK) {
          var coords = new kakao.maps.LatLng(result[0].y, result[0].x);
          console.log(coords);

          // 결과값으로 받은 위치를 마커로 표시합니다
          var marker = new kakao.maps.Marker({
            map: map,
            position: coords,
          });

          // 인포윈도우로 장소에 대한 설명을 표시합니다
          var infowindow = new kakao.maps.InfoWindow({
            content:
              '<div style="width:150px;text-align:center;padding:6px 0;">우리회사</div>',
          });
          infowindow.open(map, marker);

          // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
          map.setCenter(coords);
        }
      }
    );
  </script>
</html>
